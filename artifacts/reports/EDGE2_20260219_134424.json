{
  "process_recommendation": {
    "primary": "CNC",
    "secondary": [
      "EXTRUSION"
    ],
    "not_recommended": [
      "AM",
      "CASTING",
      "FORGING",
      "MIM"
    ],
    "reasons": [
      "Metal material disfavors injection molding (requires material change)",
      "Metal material favors CNC",
      "Low volume favors CNC flexibility",
      "Low volume penalizes MIM tooling economics"
    ],
    "reasons_primary": [],
    "reasons_secondary": [],
    "tradeoffs": [
      "Tooling lead time vs unit cost: IM/Sheet metal need tooling; CNC/AM suit low volume.",
      "Tolerance and finish: Define critical interfaces; plan post-machining or inspection where needed.",
      "Risk drivers: Warpage (IM/AM), supports (AM), setups (CNC/Sheet metal) affect feasibility.",
      "Volume sensitivity: IM and sheet metal favor production runs; CNC/AM suit proto and small batch.",
      "Documentation: 2D drawing and scale confirmation improve tolerance and process selection."
    ],
    "scores": {
      "INJECTION_MOLDING": -100,
      "CNC": 5,
      "AM": 0,
      "SHEET_METAL": 3,
      "CNC_TURNING": 1,
      "MIM": -11,
      "THERMOFORMING": -100,
      "COMPRESSION_MOLDING": -100,
      "CASTING": -3,
      "FORGING": -3,
      "EXTRUSION": 6
    },
    "process_gates": {
      "CNC": {
        "eligible": true,
        "reason": ""
      },
      "CNC_TURNING": {
        "eligible": true,
        "reason": ""
      },
      "AM": {
        "eligible": true,
        "reason": ""
      },
      "SHEET_METAL": {
        "eligible": true,
        "reason": ""
      },
      "INJECTION_MOLDING": {
        "eligible": false,
        "reason": "polymer process"
      },
      "CASTING": {
        "eligible": true,
        "reason": ""
      },
      "FORGING": {
        "eligible": true,
        "reason": ""
      },
      "EXTRUSION": {
        "eligible": true,
        "reason": ""
      },
      "MIM": {
        "eligible": true,
        "reason": ""
      },
      "THERMOFORMING": {
        "eligible": false,
        "reason": "polymer process"
      },
      "COMPRESSION_MOLDING": {
        "eligible": false,
        "reason": "polymer process"
      }
    },
    "eligible_processes": [
      "CNC",
      "CNC_TURNING",
      "AM",
      "SHEET_METAL",
      "CASTING",
      "FORGING",
      "EXTRUSION",
      "MIM"
    ],
    "cad_lite": {
      "status": "ok",
      "bbox_dims": [
        180.0,
        15.0,
        50.0
      ],
      "volume": 66461.367,
      "surface_area": 43614.127,
      "av_ratio": 0.6562,
      "t_est": 3.0477,
      "min_dim": 15.0,
      "t_over_min_dim": 0.2032
    },
    "sheet_metal_likelihood": {
      "level": "med",
      "source": "cad_lite"
    },
    "extrusion_lite": {
      "status": "ok",
      "axis": "X",
      "bbox_dims": [
        180.0,
        15.0,
        50.0
      ],
      "section_areas": [
        439.494897,
        505.138782,
        125.0,
        505.138782,
        439.494897
      ],
      "mean_area": 402.853472,
      "coeff_var": 0.352472
    },
    "extrusion_likelihood": {
      "level": "med",
      "source": "extrusion_lite",
      "coeff_var": 0.352472,
      "robust_coeff_var": 0.352472,
      "axis": "X",
      "long_profile_upgrade": true
    },
    "am_likelihood_level": "low",
    "am_likelihood_source": "bins_only"
  },
  "report_markdown": "# CNC Design Review + DFM Report\n\n## Input summary\n\n- Manufacturing process: CNC\n\n- Material: Steel\n- Production volume: Small batch\n- Load type: Static\n- Tolerance criticality: Medium\n\n- Part size: Medium\n- Min internal radius: Medium\n- Min wall thickness: Medium\n- Hole depth class: None\n- Pocket aspect class: OK\n- Feature variety: Low\n- Accessibility risk: Low\n- Has clamping faces: True\n\n\n## Process recommendation\n\n- Primary: **CNC**\n\n- Secondary: EXTRUSION\n\n- Less suitable (given current inputs): AM, CASTING, FORGING, MIM\n\n- Not applicable (hard gated): INJECTION_MOLDING (polymer process), THERMOFORMING (polymer process), COMPRESSION_MOLDING (polymer process)\n\n- Tradeoffs:\n\n  - Tooling lead time vs unit cost: IM/Sheet metal need tooling; CNC/AM suit low volume.\n\n  - Tolerance and finish: Define critical interfaces; plan post-machining or inspection where needed.\n\n  - Risk drivers: Warpage (IM/AM), supports (AM), setups (CNC/Sheet metal) affect feasibility.\n\n  - Volume sensitivity: IM and sheet metal favor production runs; CNC/AM suit proto and small batch.\n\n  - Documentation: 2D drawing and scale confirmation improve tolerance and process selection.\n\n\n\n## Manufacturing confidence inputs\n\n- CAD uploaded: yes\n\n- CAD analysis status: none\n\n- CAD evidence used in rules: no\n\n- CAD Lite analysis: ok\n\n- Extrusion Lite analysis: ok\n\n- Extrusion likelihood: med (source=extrusion_lite)\n\n- Sheet metal likelihood: med (source=cad_lite)\n\n_Confidence inputs not provided._\n\n\n\n## Top priorities\n\n- [MEDIUM] Consider EXTRUSION + CNC finishing (HYBRID_EXTR1)\n\n- [LOW] Low feature variety (favorable for cycle time and tooling) (PASS1)\n\n- [LOW] Low accessibility risk (good tool access) (PASS2)\n\n\n\n## Findings (HIGH)\n\n- **Low volume + MIM (tooling ROI risk)** (MIM1) \u2014 MIM has high upfront tooling cost; unit cost only becomes favorable at production volumes.\n  - Recommendation: Consider CNC or AM for low volumes; MIM best for stable designs at production scale.\n\n## Findings (MEDIUM)\n\n- **Low volume + casting (tooling risk)** (CAST1) \u2014 Casting has significant tooling cost; economics favor production runs.\n  - Recommendation: Consider CNC or AM for low volumes; casting best at production scale.\n- **Low volume + forging (tooling risk)** (FORG1) \u2014 Forging has significant die cost; economics favor production runs.\n  - Recommendation: Consider CNC or AM for low volumes; forging best at production scale.\n- **Consider EXTRUSION + CNC finishing** (HYBRID_EXTR1) \u2014 Geometry indicates extrusion-friendly profile. Secondary CNC for cut-to-length, drilling, tapping, and milling improves fit and interface quality.\n  - Recommendation: Primary: CNC for precision and flexibility. Secondary: EXTRUSION for near-net shape and economics. Design for hybrid manufacturing: use extrusion for base profile, CNC for critical features.\n\n## Findings (LOW)\n\n- **Low feature variety (favorable for cycle time and tooling)** (PASS1) \u2014 Low complexity reduces cycle time and tooling risk.\n  - Recommendation: No change needed.\n- **Low accessibility risk (good tool access)** (PASS2) \u2014 Good tool access reduces setup and machining risk.\n  - Recommendation: No change needed.\n\n## Action Checklist\n\n- [ ] Address HIGH and MEDIUM findings before release.\n- [ ] Apply recommended design changes for critical features.\n- [ ] Re-verify tolerances and interfaces after changes.\n\n## Assumptions\n\n- Inputs and part summary reflect current design intent.\n- Manufacturing process and material choices are as specified.\n\n## Usage (tokens & cost)\n\n_Usage not available._\n\n\n## LLM usage by node\n\n- rag: cache_hit=False, retrieved_k=5, sources_count=0\n\n- self_review: attempts=0, cache_hit=False\n\n\n## Agent confidence & limitations\n\n- **Score:** 0.68\n\n- **High confidence:** Consider CNC or AM for low volumes; MIM best for stable designs at production scale (MIM1).\n\n- **Medium confidence:** Consider CNC or AM for low volumes; casting best at production scale (CAST1).; Consider CNC or AM for low volumes; forging best at production scale (FORG1).\n\n- **Low confidence:** _None_\n\n- **Limitations:** Machine/tooling constraints unknown\n\n- **To improve:** _None_\n",
  "findings": [
    {
      "rule_id": "PASS1",
      "severity": "LOW",
      "title": "Low feature variety (favorable for cycle time and tooling)"
    },
    {
      "rule_id": "PASS2",
      "severity": "LOW",
      "title": "Low accessibility risk (good tool access)"
    },
    {
      "rule_id": "CAST1",
      "severity": "MEDIUM",
      "title": "Low volume + casting (tooling risk)"
    },
    {
      "rule_id": "FORG1",
      "severity": "MEDIUM",
      "title": "Low volume + forging (tooling risk)"
    },
    {
      "rule_id": "MIM1",
      "severity": "HIGH",
      "title": "Low volume + MIM (tooling ROI risk)"
    },
    {
      "rule_id": "HYBRID_EXTR1",
      "severity": "MEDIUM",
      "title": "Consider EXTRUSION + CNC finishing"
    }
  ],
  "error": "",
  "error_type": null,
  "trace": [
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "Run started",
    "Inputs validated",
    "Process selection node entered",
    "process_selection: eligible_processes=['AM', 'CASTING', 'CNC', 'CNC_TURNING', 'EXTRUSION', 'FORGING', 'MIM', 'SHEET_METAL']",
    "process_selection: gated_out=[('INJECTION_MOLDING', 'polymer process'), ('THERMOFORMING', 'polymer process'), ('COMPRESSION_MOLDING', 'polymer process')]",
    "PSI: user_text_len=0 preview=\"\"",
    "process_selection: cad_lite status=ok t_est=3.0477 av_ratio=0.6562 t_over_min_dim=0.2032",
    "process_selection: sheet_metal_likelihood=med (source=cad_lite)",
    "process_selection: long_profile upgrade extrusion_likelihood low -> med",
    "process_selection: extrusion_likelihood=med (coeff_var=0.352472 axis=X)",
    "extrusion_score adjusted: level=med score=6",
    "process_selection: am_likelihood=low (source=bins_only)",
    "process_selection: bins_boost EXTRUSION med +3; bins_penalize MIM -3",
    "process_selection: scorer_path=legacy_bins cad_status=none",
    "process_selection: bins_anchor applied selected=CNC margin=2 top_was=EXTRUSION",
    "PSI: score_diff=0 (primary=CNC=5, second=CNC=5)",
    "PSI tie-break: prefer user-selected flexible process (CNC) when score_diff <= 1 (compatible, no strong mismatch)",
    "PSI: final score_diff=0 (after tie-break, primary changed from EXTRUSION to CNC)",
    "Process selection computed: primary=CNC user_selected=CNC",
    "process_selection: cad_uploaded=y evidence_available=n",
    "Hybrid offer added: EXTRUSION + CNC finishing (HYBRID_EXTR1)",
    "rules: cad_uploaded=y cad_status=none evidence_keys=[]",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "explain: offline fallback (no LLM)",
    "Agent decision: enrich via RAG",
    "RAG triggered: HIGH severity findings",
    "Entered rag_node (process=CNC, top_k=5)",
    "RAG: rag_user_text_normalized=",
    "PSI debug: primary=CNC, user_selected=CNC, extrusion_offer=no, mim_offer=no, thermo_offer=no, comp_offer=no, am_offer=no, hybrid_offer=no, main_index_used=cnc, offer_index_used=none, hybrid_primary_index_used=none, hybrid_secondary_index_used=none",
    "RAG: main_retrieve_index=cnc, offer_retrieve_index=none",
    "RAG: main_index_used=cnc",
    "RAG: retrieving from local cnc index",
    "RAG retrieval failed: Failed to load embedding model BAAI/bge-small-en-v1.5: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.\nCheck your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.",
    "RAG completed: retrieved 0 snippets (error)",
    "explain: offline fallback (no LLM)",
    "Agent decision: accept (max rounds reached)",
    "self_review: confidence_base=0.68 source=deterministic",
    "self_review: cad_uploaded=y cad_status=none",
    "self_review: offline mode -> deterministic only",
    "report: process_recommendation present=True primary=CNC"
  ]
}